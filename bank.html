<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Bank | O Banco Digital do Futuro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: hsl(276, 100%, 45%);
            --primary-dark: hsl(276, 100%, 35%);
            --secondary-color: hsl(200, 100%, 50%);
            --success-color: hsl(160, 100%, 40%);
            --danger-color: hsl(340, 100%, 60%);
            --warning-color: hsl(40, 100%, 50%);
            --dark-color: hsl(260, 30%, 10%);
            --light-color: hsl(0, 0%, 98%);
            --gray-color: hsl(0, 0%, 85%);
            --text-primary: hsl(260, 30%, 15%);
            --text-secondary: hsl(260, 10%, 45%);
            --card-bg: rgba(255, 255, 255, 0.95);
            --glass-effect: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.25);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        /* Dark Mode */
        body.dark-mode {
            --dark-color: hsl(0, 0%, 98%);
            --light-color: hsl(260, 30%, 10%);
            --text-primary: hsl(0, 0%, 95%);
            --text-secondary: hsl(0, 0%, 70%);
            --card-bg: rgba(30, 20, 50, 0.95);
            --gray-color: hsl(260, 15%, 20%);
            --glass-effect: rgba(0, 0, 0, 0.15);
            --glass-border: rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--light-color);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            transition: var(--transition);
        }

        /* Container Principal */
        .app-container {
            max-width: 450px;
            margin: 0 auto;
            background: var(--card-bg);
            min-height: 100vh;
            position: relative;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: var(--primary-color);
            color: white;
            padding: 20px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
            box-shadow: var(--shadow-md);
        }

        .logo {
            font-weight: 800;
            font-size: 1.8rem;
            letter-spacing: -1px;
            background: linear-gradient(to right, white, #e0d4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-icon {
            font-size: 1.2rem;
            color: white;
            cursor: pointer;
        }

        /* Botão de Modo Dark/Light */
        .theme-toggle {
            width: 40px;
            height: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: var(--transition);
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: var(--transition);
        }

        body.dark-mode .theme-toggle::before {
            transform: translateX(20px);
            background: var(--primary-color);
        }

        /* Menu de Navegação */
        .nav-menu {
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            background: var(--card-bg);
            border-top: 1px solid var(--gray-color);
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 450px;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .nav-item.active, .nav-item:hover {
            color: var(--primary-color);
        }

        .nav-icon {
            font-size: 1.4rem;
            margin-bottom: 4px;
        }

        /* Cartão */
        .card-container {
            padding: 20px 15px;
        }

        .card {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            border-radius: var(--border-radius);
            padding: 20px;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            margin-bottom: 20px;
        }

        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%);
            animation: rotate 20s linear infinite;
            z-index: 0;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .card-content {
            position: relative;
            z-index: 1;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .card-logo {
            font-weight: 700;
            font-size: 1.2rem;
        }

        .card-chip {
            width: 40px;
            height: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-number {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            letter-spacing: 1px;
            font-size: 1.1rem;
        }

        .card-number span {
            display: inline-block;
            width: 22%;
            text-align: center;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-holder {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .card-expiry {
            font-size: 0.9rem;
        }

        .card-brand {
            height: 30px;
        }

        /* Seção de Saldo */
        .balance-section {
            padding: 0 15px 20px;
        }

        .balance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .balance-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .balance-details {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        /* Botões de Ação */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .action-button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: var(--border-radius);
            background: var(--gray-color);
            color: var(--text-primary);
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .action-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-sm);
        }

        .action-button.primary {
            background: var(--primary-color);
            color: white;
        }

        .action-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        /* Lista de Serviços */
        .services-section {
            padding: 0 15px;
            margin-bottom: 80px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .service-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .service-icon {
            width: 50px;
            height: 50px;
            background: var(--gray-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .service-item:hover .service-icon {
            background: var(--primary-color);
            color: white;
        }

        .service-name {
            font-size: 0.7rem;
            text-align: center;
            color: var(--text-secondary);
        }

        /* Seção de Investimentos */
        .investments-section {
            padding: 15px;
            background: var(--gray-color);
            border-radius: var(--border-radius);
            margin: 20px 15px;
        }

        .investments-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .investment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .investment-item:last-child {
            border-bottom: none;
        }

        .investment-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .investment-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .investment-name {
            font-weight: 500;
        }

        .investment-amount {
            font-weight: 600;
        }

        /* Seção de Cartões */
        .cards-section {
            padding: 0 15px;
            margin-bottom: 20px;
        }

        .cards-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .cards-list {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .card-mini {
            min-width: 150px;
            height: 90px;
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            border-radius: var(--border-radius);
            padding: 15px;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-mini .card-logo {
            font-size: 0.9rem;
        }

        .card-mini .card-number {
            font-size: 0.8rem;
            margin-bottom: 0;
        }

        /* Seção de Atalhos */
        .shortcuts-section {
            padding: 0 15px;
            margin-bottom: 20px;
        }

        .shortcuts-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .shortcut-item {
            background: var(--gray-color);
            border-radius: var(--border-radius);
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .shortcut-item:hover {
            background: var(--primary-color);
            color: white;
        }

        .shortcut-icon {
            font-size: 1.2rem;
        }

        .shortcut-name {
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
        }

        .modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: var(--card-bg);
            width: 90%;
            max-width: 400px;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-lg);
            transform: translateY(20px);
            transition: var(--transition);
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Formulários */
        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--gray-color);
            border-radius: var(--border-radius);
            background: var(--card-bg);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(130, 10, 209, 0.2);
        }

        /* Botões */
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--gray-color);
            color: var(--text-primary);
        }

        .btn-outline:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* Notificações */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: var(--transition);
            z-index: 1000;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            font-size: 1.5rem;
        }

        .notification-success .notification-icon {
            color: var(--success-color);
        }

        .notification-error .notification-icon {
            color: var(--danger-color);
        }

        .notification-warning .notification-icon {
            color: var(--warning-color);
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .notification-message {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .notification-close {
            color: var(--text-secondary);
            cursor: pointer;
        }

        /* Abas */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--gray-color);
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: var(--transition);
        }

        .tab.active {
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Responsividade */
        @media (max-width: 400px) {
            .services-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .shortcuts-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <div class="logo">quantum</div>
            <div class="header-actions">
                <i class="fas fa-search header-icon" onclick="showModal('searchModal')"></i>
                <i class="fas fa-bell header-icon" onclick="showModal('notificationsModal')"></i>
                <div class="theme-toggle" id="themeToggle"></div>
            </div>
        </div>

        <!-- Conteúdo Principal -->
        <div class="main-content">
            <!-- Cartão -->
            <div class="card-container">
                <div class="card">
                    <div class="card-content">
                        <div class="card-header">
                            <div class="card-logo">Quantum Bank</div>
                            <div class="card-chip">
                                <i class="fas fa-microchip"></i>
                            </div>
                        </div>
                        <div class="card-number">
                            <span>••••</span>
                            <span>••••</span>
                            <span>••••</span>
                            <span id="lastCardDigits">1234</span>
                        </div>
                        <div class="card-footer">
                            <div>
                                <div class="card-holder" id="cardHolderName">CLIENTE QUANTUM</div>
                                <div class="card-expiry" id="cardExpiry">05/30</div>
                            </div>
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='30' viewBox='0 0 50 30'%3E%3Cpath d='M35 15.607c5.523 0 10 3.578 10 7H45c0-3.86-4.477-7-10-7s-10 3.14-10 7h-10c0-3.422 4.477-7 10-7z' fill='%23FFF'/%3E%3C/svg%3E" alt="Mastercard" class="card-brand">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Saldo -->
            <div class="balance-section">
                <div class="balance-header">
                    <div class="section-title">Saldo disponível</div>
                    <i class="fas fa-eye-slash" id="balanceToggle" style="color: var(--text-secondary); cursor: pointer;"></i>
                </div>
                <div class="balance-value" id="balanceValue">R$ 9.876,54</div>
                <div class="balance-details">
                    <span id="balanceDetails">+ R$ 1.234,56 nos últimos 30 dias</span>
                </div>

                <!-- Botões de Ação -->
                <div class="action-buttons">
                    <button class="action-button" onclick="showModal('transferModal')">
                        <i class="fas fa-exchange-alt action-icon"></i>
                        Transferir
                    </button>
                    <button class="action-button" onclick="showModal('depositModal')">
                        <i class="fas fa-money-bill-wave action-icon"></i>
                        Depositar
                    </button>
                    <button class="action-button primary" onclick="showModal('pixModal')">
                        <i class="fas fa-qrcode action-icon"></i>
                        PIX
                    </button>
                </div>
            </div>

            <!-- Serviços -->
            <div class="services-section">
                <div class="section-title">Serviços</div>
                <div class="services-grid">
                    <div class="service-item" onclick="showModal('pixModal')">
                        <div class="service-icon">
                            <i class="fas fa-qrcode"></i>
                        </div>
                        <div class="service-name">PIX</div>
                    </div>
                    <div class="service-item" onclick="showModal('transferModal')">
                        <div class="service-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="service-name">Transferir</div>
                    </div>
                    <div class="service-item" onclick="showModal('depositModal')">
                        <div class="service-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="service-name">Depositar</div>
                    </div>
                    <div class="service-item" onclick="showModal('paymentsModal')">
                        <div class="service-icon">
                            <i class="fas fa-barcode"></i>
                        </div>
                        <div class="service-name">Pagar</div>
                    </div>
                    <div class="service-item" onclick="showModal('cardsModal')">
                        <div class="service-icon">
                            <i class="far fa-credit-card"></i>
                        </div>
                        <div class="service-name">Cartões</div>
                    </div>
                    <div class="service-item" onclick="showModal('investmentsModal')">
                        <div class="service-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="service-name">Investir</div>
                    </div>
                    <div class="service-item" onclick="showModal('loanModal')">
                        <div class="service-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="service-name">Empréstimo</div>
                    </div>
                    <div class="service-item" onclick="showModal('insuranceModal')">
                        <div class="service-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="service-name">Seguros</div>
                    </div>
                </div>
            </div>

            <!-- Cartões -->
            <div class="cards-section">
                <div class="cards-header">
                    <div class="section-title">Cartões</div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary); cursor: pointer;" onclick="showModal('cardsModal')"></i>
                </div>
                <div class="cards-list">
                    <div class="card-mini" onclick="showModal('cardDetailsModal')">
                        <div class="card-logo">Quantum</div>
                        <div class="card-number">•••• •••• •••• 1234</div>
                    </div>
                    <div class="card-mini" style="background: linear-gradient(135deg, var(--success-color), hsl(160, 100%, 30%));" onclick="showModal('cardDetailsModal')">
                        <div class="card-logo">Quantum</div>
                        <div class="card-number">•••• •••• •••• 5678</div>
                    </div>
                </div>
            </div>

            <!-- Investimentos -->
            <div class="investments-section">
                <div class="investments-header">
                    <div class="section-title">Investimentos</div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary); cursor: pointer;" onclick="showModal('investmentsModal')"></i>
                </div>
                <div class="investment-item" onclick="showModal('investmentDetailsModal')">
                    <div class="investment-info">
                        <div class="investment-icon">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <div>
                            <div class="investment-name">Reserva de Emergência</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">100% do CDI</div>
                        </div>
                    </div>
                    <div class="investment-amount">R$ 5.432,10</div>
                </div>
                <div class="investment-item" onclick="showModal('investmentDetailsModal')">
                    <div class="investment-info">
                        <div class="investment-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div>
                            <div class="investment-name">Tesouro Direto</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">IPCA+ 2026</div>
                        </div>
                    </div>
                    <div class="investment-amount">R$ 3.210,98</div>
                </div>
            </div>

            <!-- Atalhos -->
            <div class="shortcuts-section">
                <div class="section-title">Atalhos</div>
                <div class="shortcuts-list">
                    <div class="shortcut-item" onclick="showModal('mobileRechargeModal')">
                        <div class="shortcut-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="shortcut-name">Recarga Celular</div>
                    </div>
                    <div class="shortcut-item" onclick="copyPixKey()">
                        <div class="shortcut-icon">
                            <i class="fas fa-copy"></i>
                        </div>
                        <div class="shortcut-name">Pix Copia e Cola</div>
                    </div>
                    <div class="shortcut-item" onclick="generateVirtualCard()">
                        <div class="shortcut-icon">
                            <i class="far fa-credit-card"></i>
                        </div>
                        <div class="shortcut-name">Cartão Virtual</div>
                    </div>
                    <div class="shortcut-item" onclick="copyReferralLink()">
                        <div class="shortcut-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="shortcut-name">Indique amigos</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu de Navegação -->
        <div class="nav-menu">
            <a href="#" class="nav-item active">
                <i class="fas fa-home nav-icon"></i>
                <span>Início</span>
            </a>
            <a href="#" class="nav-item" onclick="showModal('cardsModal')">
                <i class="fas fa-credit-card nav-icon"></i>
                <span>Cartões</span>
            </a>
            <a href="#" class="nav-item" onclick="showModal('investmentsModal')">
                <i class="fas fa-chart-line nav-icon"></i>
                <span>Investir</span>
            </a>
            <a href="#" class="nav-item" onclick="showModal('shopModal')">
                <i class="fas fa-store nav-icon"></i>
                <span>Shop</span>
            </a>
            <a href="#" class="nav-item" onclick="showModal('menuModal')">
                <i class="fas fa-bars nav-icon"></i>
                <span>Mais</span>
            </a>
        </div>
    </div>

    <!-- Modais -->
    <!-- Modal de PIX -->
    <div class="modal" id="pixModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">PIX</div>
                <i class="fas fa-times modal-close" onclick="hideModal('pixModal')"></i>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <div class="tab active" onclick="switchTab('pixTab', 'pixTabs')">Enviar PIX</div>
                    <div class="tab" onclick="switchTab('pixKeysTab', 'pixTabs')">Minhas Chaves</div>
                    <div class="tab" onclick="switchTab('pixHistoryTab', 'pixTabs')">Histórico</div>
                </div>
                
                <div id="pixTab" class="tab-content active">
                    <div class="action-buttons" style="margin-bottom: 20px;">
                        <button class="action-button" style="flex: 1;" onclick="scanQRCode()">
                            <i class="fas fa-qrcode action-icon"></i>
                            Ler QR Code
                        </button>
                        <button class="action-button" style="flex: 1;" onclick="switchTab('pixKeysTab', 'pixTabs')">
                            <i class="fas fa-key action-icon"></i>
                            Minhas Chaves
                        </button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Valor</label>
                        <input type="text" class="form-control" id="pixAmount" placeholder="R$ 0,00" oninput="formatCurrency(this)">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Chave PIX</label>
                        <input type="text" class="form-control" id="pixKey" placeholder="CPF, e-mail, telefone ou chave aleatória">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descrição (opcional)</label>
                        <input type="text" class="form-control" id="pixDescription" placeholder="Ex: Pagamento serviço">
                    </div>
                </div>
                
                <div id="pixKeysTab" class="tab-content" style="display: none;">
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 500; margin-bottom: 5px;">Minhas Chaves PIX</div>
                        <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius); margin-bottom: 10px;">
                            <div style="font-size: 0.9rem;">CPF: 123.456.789-00</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Titular: Cliente Quantum</div>
                        </div>
                        <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius); margin-bottom: 10px;">
                            <div style="font-size: 0.9rem;">Celular: (11) 98765-4321</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Titular: Cliente Quantum</div>
                        </div>
                        <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius);">
                            <div style="font-size: 0.9rem;">E-mail: cliente@quantumbank.com</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">Titular: Cliente Quantum</div>
                        </div>
                    </div>
                    <button class="btn btn-outline" style="width: 100%;" onclick="addPixKey()">
                        <i class="fas fa-plus"></i> Adicionar Chave
                    </button>
                </div>
                
                <div id="pixHistoryTab" class="tab-content" style="display: none;">
                    <div style="text-align: center; padding: 20px 0;">
                        <i class="fas fa-clock" style="font-size: 2rem; color: var(--text-secondary); margin-bottom: 10px;"></i>
                        <div style="color: var(--text-secondary);">Nenhuma transação PIX realizada ainda</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('pixModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="sendPix()">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Transferência -->
    <div class="modal" id="transferModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Transferência</div>
                <i class="fas fa-times modal-close" onclick="hideModal('transferModal')"></i>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Valor</label>
                    <input type="text" class="form-control" id="transferAmount" placeholder="R$ 0,00" oninput="formatCurrency(this)">
                </div>
                <div class="form-group">
                    <label class="form-label">Banco</label>
                    <select class="form-control" id="transferBank">
                        <option value="341">Quantum Bank (341)</option>
                        <option value="001">Banco do Brasil (001)</option>
                        <option value="237">Bradesco (237)</option>
                        <option value="341">Itaú (341)</option>
                        <option value="033">Santander (033)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Agência</label>
                    <input type="text" class="form-control" id="transferAgency" placeholder="0000">
                </div>
                <div class="form-group">
                    <label class="form-label">Conta</label>
                    <input type="text" class="form-control" id="transferAccount" placeholder="00000-0">
                </div>
                <div class="form-group">
                    <label class="form-label">CPF do titular</label>
                    <input type="text" class="form-control" id="transferCPF" placeholder="000.000.000-00" oninput="formatCPF(this)">
                </div>
                <div class="form-group">
                    <label class="form-label">Descrição (opcional)</label>
                    <input type="text" class="form-control" id="transferDescription" placeholder="Ex: Pagamento serviço">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('transferModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="sendTransfer()">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Depósito -->
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Depósito</div>
                <i class="fas fa-times modal-close" onclick="hideModal('depositModal')"></i>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Valor</label>
                    <input type="text" class="form-control" id="depositAmount" placeholder="R$ 0,00" oninput="formatCurrency(this)">
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo de depósito</label>
                    <select class="form-control" id="depositType">
                        <option value="boleto">Boleto Bancário</option>
                        <option value="ted">TED/DOC</option>
                        <option value="cheque">Depósito por Cheque</option>
                        <option value="especie">Depósito em Espécie</option>
                    </select>
                </div>
                <div class="form-group" id="depositDueDateGroup">
                    <label class="form-label">Data de vencimento</label>
                    <input type="date" class="form-control" id="depositDueDate">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('depositModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="requestDeposit()">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Investimentos -->
    <div class="modal" id="investmentsModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Investimentos</div>
                <i class="fas fa-times modal-close" onclick="hideModal('investmentsModal')"></i>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 10px;">Saldo disponível para investir</div>
                    <div style="font-size: 1.5rem; font-weight: 600;">R$ 9.876,54</div>
                </div>
                
                <div class="investment-item" style="padding: 15px; border-radius: var(--border-radius); background: var(--gray-color); margin-bottom: 10px; cursor: pointer;" onclick="showModal('emergencyReserveModal')">
                    <div class="investment-info">
                        <div class="investment-icon">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <div>
                            <div class="investment-name">Reserva de Emergência</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">100% do CDI</div>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>
                
                <div class="investment-item" style="padding: 15px; border-radius: var(--border-radius); background: var(--gray-color); margin-bottom: 10px; cursor: pointer;" onclick="showModal('treasuryModal')">
                    <div class="investment-info">
                        <div class="investment-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div>
                            <div class="investment-name">Tesouro Direto</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">IPCA+ 2026</div>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>
                
                <div class="investment-item" style="padding: 15px; border-radius: var(--border-radius); background: var(--gray-color); margin-bottom: 10px; cursor: pointer;" onclick="showModal('cdbModal')">
                    <div class="investment-info">
                        <div class="investment-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div>
                            <div class="investment-name">CDB</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">110% do CDI</div>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('investmentsModal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Cartões -->
    <div class="modal" id="cardsModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Cartões</div>
                <i class="fas fa-times modal-close" onclick="hideModal('cardsModal')"></i>
            </div>
            <div class="modal-body">
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-content">
                        <div class="card-header">
                            <div class="card-logo">Quantum</div>
                            <div class="card-chip">
                                <i class="fas fa-microchip"></i>
                            </div>
                        </div>
                        <div class="card-number">
                            <span>••••</span>
                            <span>••••</span>
                            <span>••••</span>
                            <span>1234</span>
                        </div>
                        <div class="card-footer">
                            <div>
                                <div class="card-holder">CLIENTE QUANTUM</div>
                                <div class="card-expiry">05/30</div>
                            </div>
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='30' viewBox='0 0 50 30'%3E%3Cpath d='M35 15.607c5.523 0 10 3.578 10 7H45c0-3.86-4.477-7-10-7s-10 3.14-10 7h-10c0-3.422 4.477-7 10-7z' fill='%23FFF'/%3E%3C/svg%3E" alt="Mastercard" class="card-brand">
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <div style="font-weight: 500;">Limite disponível</div>
                        <div style="font-weight: 600;">R$ 4.567,89</div>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <div style="font-weight: 500;">Fatura atual</div>
                        <div style="font-weight: 600;">R$ 1.234,56</div>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <div style="font-weight: 500;">Vencimento</div>
                        <div style="font-weight: 600;">10/05/2023</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-button" style="flex: 1;" onclick="generateVirtualCard()">
                        <i class="fas fa-credit-card action-icon"></i>
                        Cartão Virtual
                    </button>
                    <button class="action-button" style="flex: 1;" onclick="toggleCardBlock()">
                        <i class="fas fa-lock action-icon"></i>
                        Bloquear
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('cardsModal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Detalhes do Cartão -->
    <div class="modal" id="cardDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Detalhes do Cartão</div>
                <i class="fas fa-times modal-close" onclick="hideModal('cardDetailsModal')"></i>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 500; margin-bottom: 5px;">Número do Cartão</div>
                    <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius); margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>•••• •••• •••• 1234</span>
                            <button class="btn btn-outline" style="padding: 5px 10px; font-size: 0.8rem;" onclick="showCardNumber()">Mostrar</button>
                        </div>
                    </div>
                    
                    <div style="font-weight: 500; margin-bottom: 5px;">CVV</div>
                    <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius); margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>•••</span>
                            <button class="btn btn-outline" style="padding: 5px 10px; font-size: 0.8rem;" onclick="showCVV()">Mostrar</button>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                        <div style="flex: 1;">
                            <div style="font-weight: 500; margin-bottom: 5px;">Validade</div>
                            <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius);">
                                05/30
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 500; margin-bottom: 5px;">Limite</div>
                            <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius);">
                                R$ 6.000,00
                            </div>
                        </div>
                    </div>
                    
                    <div style="font-weight: 500; margin-bottom: 5px;">Titular</div>
                    <div style="background: var(--gray-color); padding: 10px; border-radius: var(--border-radius);">
                        CLIENTE QUANTUM
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-button" style="flex: 1;" onclick="changeCardLimit()">
                        <i class="fas fa-sliders-h action-icon"></i>
                        Ajustar Limite
                    </button>
                    <button class="action-button" style="flex: 1;" onclick="requestNewCard()">
                        <i class="fas fa-sync-alt action-icon"></i>
                        Pedir 2ª Via
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('cardDetailsModal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Recarga de Celular -->
    <div class="modal" id="mobileRechargeModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Recarga de Celular</div>
                <i class="fas fa-times modal-close" onclick="hideModal('mobileRechargeModal')"></i>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Operadora</label>
                    <select class="form-control" id="mobileOperator">
                        <option value="vivo">Vivo</option>
                        <option value="claro">Claro</option>
                        <option value="tim">TIM</option>
                        <option value="oi">Oi</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Número do Celular</label>
                    <input type="text" class="form-control" id="mobileNumber" placeholder="(00) 00000-0000" oninput="formatPhone(this)">
                </div>
                <div class="form-group">
                    <label class="form-label">Valor da Recarga</label>
                    <select class="form-control" id="rechargeAmount">
                        <option value="10">R$ 10,00</option>
                        <option value="20">R$ 20,00</option>
                        <option value="30">R$ 30,00</option>
                        <option value="50">R$ 50,00</option>
                        <option value="100">R$ 100,00</option>
                        <option value="other">Outro valor</option>
                    </select>
                </div>
                <div class="form-group" id="customAmountGroup" style="display: none;">
                    <label class="form-label">Informe o valor</label>
                    <input type="text" class="form-control" id="customAmount" placeholder="R$ 0,00" oninput="formatCurrency(this)">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('mobileRechargeModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="rechargeMobile()">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Pagamentos -->
    <div class="modal" id="paymentsModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Pagamentos</div>
                <i class="fas fa-times modal-close" onclick="hideModal('paymentsModal')"></i>
            </div>
            <div class="modal-body">
                <div class="action-buttons" style="margin-bottom: 20px;">
                    <button class="action-button" style="flex: 1;" onclick="showModal('barcodePaymentModal')">
                        <i class="fas fa-barcode action-icon"></i>
                        Pagar Boleto
                    </button>
                    <button class="action-button" style="flex: 1;" onclick="showModal('utilityPaymentModal')">
                        <i class="fas fa-lightbulb action-icon"></i>
                        Contas e Luz
                    </button>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <div style="font-weight: 500; margin-bottom: 10px;">Contas cadastradas</div>
                    <div style="background: var(--gray-color); padding: 15px; border-radius: var(--border-radius); margin-bottom: 10px; cursor: pointer;" onclick="showModal('electricBillModal')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 500;">Energia Elétrica</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Conta de luz</div>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                        </div>
                    </div>
                    <div style="background: var(--gray-color); padding: 15px; border-radius: var(--border-radius); cursor: pointer;" onclick="showModal('waterBillModal')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 500;">Água e Esgoto</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Conta de água</div>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-outline" style="width: 100%;" onclick="addNewBill()">
                    <i class="fas fa-plus"></i> Adicionar Nova Conta
                </button>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('paymentsModal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Empréstimo -->
    <div class="modal" id="loanModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Empréstimo</div>
                <i class="fas fa-times modal-close" onclick="hideModal('loanModal')"></i>
            </div>
            <div class="modal-body">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 1.2rem; font-weight: 600; margin-bottom: 10px;">Crédito disponível</div>
                    <div style="font-size: 2rem; font-weight: 700; color: var(--primary-color); margin-bottom: 10px;">R$ 15.000,00</div>
                    <div style="font-size: 0.9rem; color: var(--text-secondary);">Taxa a partir de 1,39% ao mês</div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 500; margin-bottom: 10px;">Simular empréstimo</div>
                    <div class="form-group">
                        <label class="form-label">Valor desejado</label>
                        <input type="range" class="form-control" id="loanAmount" min="1000" max="15000" step="1000" value="5000" oninput="updateLoanValue(this.value)">
                        <div style="display: flex; justify-content: space-between;">
                            <span>R$ 1.000</span>
                            <span id="loanAmountValue">R$ 5.000</span>
                            <span>R$ 15.000</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Parcelas</label>
                        <select class="form-control" id="loanInstallments">
                            <option value="12">12x</option>
                            <option value="24">24x</option>
                            <option value="36">36x</option>
                            <option value="48">48x</option>
                        </select>
                    </div>
                </div>
                
                <div style="background: var(--gray-color); padding: 15px; border-radius: var(--border-radius); margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <div style="font-weight: 500;">Valor da parcela</div>
                        <div style="font-weight: 600;" id="installmentValue">R$ 483,72</div>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <div style="font-weight: 500;">Total a pagar</div>
                        <div style="font-weight: 600;" id="totalLoanValue">R$ 5.804,64</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('loanModal')">Cancelar</button>
                <button class="btn btn-primary" onclick="requestLoan()">Solicitar Empréstimo</button>
            </div>
        </div>
    </div>

    <!-- Modal de Seguros -->
    <div class="modal" id="insuranceModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Seguros</div>
                <i class="fas fa-times modal-close" onclick="hideModal('insuranceModal')"></i>
            </div>
            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 500; margin-bottom: 10px;">Meus Seguros</div>
                    <div style="background: var(--gray-color); padding: 15px; border-radius: var(--border-radius); margin-bottom: 10px; cursor: pointer;" onclick="showModal('phoneInsuranceModal')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 500;">Seguro Celular</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Cobertura para roubo e danos</div>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                        </div>
                    </div>
                    <div style="background: var(--gray-color); padding: 15px; border-radius: var(--border-radius); cursor: pointer;" onclick="showModal('lifeInsuranceModal')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 500;">Seguro de Vida</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">Proteção para você e sua família</div>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                        </div>
                    </div>
                </div>
                
                <div style="font-weight: 500; margin-bottom: 10px;">Contratar novo seguro</div>
                <div class="services-grid" style="margin-bottom: 20px;">
                    <div class="service-item" onclick="showModal('newPhoneInsuranceModal')">
                        <div class="service-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="service-name">Celular</div>
                    </div>
                    <div class="service-item" onclick="showModal('newLifeInsuranceModal')">
                        <div class="service-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="service-name">Vida</div>
                    </div>
                    <div class="service-item" onclick="showModal('newHomeInsuranceModal')">
                        <div class="service-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="service-name">Residencial</div>
                    </div>
                    <div class="service-item" onclick="showModal('newCarInsuranceModal')">
                        <div class="service-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="service-name">Automóvel</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('insuranceModal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Notificação -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title" id="notificationTitle">Sucesso</div>
            <div class="notification-message" id="notificationMessage">Operação realizada com sucesso!</div>
        </div>
        <i class="fas fa-times notification-close" onclick="hideNotification()"></i>
    </div>

    <script>
        // Dados do usuário
        const userData = {
            name: "Cliente Quantum",
            balance: 9876.54,
            cards: [
                {
                    id: 1,
                    lastDigits: "1234",
                    type: "physical",
                    brand: "mastercard",
                    holder: "CLIENTE QUANTUM",
                    expiry: "05/30",
                    limit: 6000,
                    usedLimit: 1234.56,
                    cvv: "123",
                    number: "1234 5678 9012 1234",
                    blocked: false
                },
                {
                    id: 2,
                    lastDigits: "5678",
                    type: "physical",
                    brand: "visa",
                    holder: "CLIENTE QUANTUM",
                    expiry: "08/32",
                    limit: 4000,
                    usedLimit: 2345.67,
                    cvv: "456",
                    number: "4321 8765 2109 5678",
                    blocked: false
                }
            ],
            investments: [
                {
                    id: 1,
                    name: "Reserva de Emergência",
                    type: "fund",
                    amount: 5432.10,
                    rate: "100% CDI",
                    description: "Resgate imediato a qualquer momento"
                },
                {
                    id: 2,
                    name: "Tesouro Direto",
                    type: "treasury",
                    amount: 3210.98,
                    rate: "IPCA+ 2026",
                    description: "Tesouro IPCA com vencimento em 2026"
                }
            ],
            pixKeys: [
                {
                    type: "cpf",
                    value: "123.456.789-00"
                },
                {
                    type: "phone",
                    value: "(11) 98765-4321"
                },
                {
                    type: "email",
                    value: "cliente@quantumbank.com"
                }
            ]
        };

        // Variáveis de estado
        let showBalance = false;
        let currentCard = userData.cards[0];
        let currentInvestment = userData.investments[0];
        let cardNumberVisible = false;
        let cardCVVVisible = false;

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            updateBalanceDisplay();
            updateCardDisplay();
        });

        // Toggle Dark/Light Mode
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
        });

        // Toggle para mostrar/esconder saldo
        document.getElementById('balanceToggle').addEventListener('click', function() {
            showBalance = !showBalance;
            updateBalanceDisplay();
            
            // Alternar ícone do olho
            if (showBalance) {
                this.classList.remove('fa-eye-slash');
                this.classList.add('fa-eye');
            } else {
                this.classList.remove('fa-eye');
                this.classList.add('fa-eye-slash');
            }
        });

        function updateBalanceDisplay() {
            const balanceValue = document.getElementById('balanceValue');
            const balanceDetails = document.getElementById('balanceDetails');
            
            if (showBalance) {
                balanceValue.textContent = `R$ ${userData.balance.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                balanceDetails.textContent = `+ R$ 1.234,56 nos últimos 30 dias`;
            } else {
                balanceValue.textContent = 'R$ ••••,••';
                balanceDetails.textContent = '+ R$ ••••,•• nos últimos 30 dias';
            }
        }

        function updateCardDisplay() {
            document.getElementById('lastCardDigits').textContent = currentCard.lastDigits;
            document.getElementById('cardHolderName').textContent = currentCard.holder;
            document.getElementById('cardExpiry').textContent = currentCard.expiry;
        }

        // Modal Functions
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Alternar entre abas
        function switchTab(tabId, tabsContainer) {
            // Esconder todas as abas
            document.querySelectorAll(`#${tabsContainer} .tab-content`).forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Mostrar a aba selecionada
            document.getElementById(tabId).style.display = 'block';
            
            // Atualizar estado das guias
            const tabs = document.querySelectorAll(`#${tabsContainer} .tab`);
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.target.classList.add('active');
        }

        // Formatação de valores
        function formatCurrency(input) {
            // Remove tudo que não é dígito
            let value = input.value.replace(/\D/g, '');
            
            // Adiciona os zeros necessários para os centavos
            value = value.padStart(3, '0');
            
            // Formata como moeda
            const formatted = (parseInt(value) / 100).toLocaleString('pt-BR', {
                style: 'currency',
                currency: 'BRL',
                minimumFractionDigits: 2
            });
            
            input.value = formatted;
        }

        function formatCPF(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length > 3) {
                value = value.substring(0, 3) + '.' + value.substring(3);
            }
            if (value.length > 7) {
                value = value.substring(0, 7) + '.' + value.substring(7);
            }
            if (value.length > 11) {
                value = value.substring(0, 11) + '-' + value.substring(11, 13);
            }
            
            input.value = value;
        }

        function formatPhone(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.length > 0) {
                value = '(' + value.substring(0, 2) + ') ' + value.substring(2);
            }
            if (value.length > 10) {
                value = value.substring(0, 10) + '-' + value.substring(10, 15);
            }
            
            input.value = value;
        }

        // Operações PIX
        function sendPix() {
            const amount = document.getElementById('pixAmount').value;
            const key = document.getElementById('pixKey').value;
            const description = document.getElementById('pixDescription').value;
            
            if (!amount || amount === 'R$ 0,00') {
                showNotification('error', 'Erro no PIX', 'Informe um valor para o PIX');
                return;
            }
            
            if (!key) {
                showNotification('error', 'Erro no PIX', 'Informe uma chave PIX');
                return;
            }
            
            showNotification('success', 'PIX realizado', `Transferência PIX no valor de ${amount} realizada com sucesso para ${key}`);
            hideModal('pixModal');
        }

        function scanQRCode() {
            showNotification('info', 'Leitor QR Code', 'Posicione o QR Code na frente da câmera');
            // Em um app real, isso acionaria a câmera do dispositivo
        }

        function copyPixKey() {
            navigator.clipboard.writeText(userData.pixKeys[0].value)
                .then(() => {
                    showNotification('success', 'Chave PIX copiada', 'Chave PIX copiada para a área de transferência');
                })
                .catch(err => {
                    showNotification('error', 'Erro ao copiar', 'Não foi possível copiar a chave PIX');
                });
        }

        function addPixKey() {
            showModal('addPixKeyModal');
        }

        // Operações de Transferência
        function sendTransfer() {
            const amount = document.getElementById('transferAmount').value;
            const bank = document.getElementById('transferBank').value;
            const agency = document.getElementById('transferAgency').value;
            const account = document.getElementById('transferAccount').value;
            const cpf = document.getElementById('transferCPF').value;
            const description = document.getElementById('transferDescription').value;
            
            if (!amount || amount === 'R$ 0,00') {
                showNotification('error', 'Erro na transferência', 'Informe um valor para transferência');
                return;
            }
            
            if (!agency || !account || !cpf) {
                showNotification('error', 'Erro na transferência', 'Preencha todos os dados da conta destino');
                return;
            }
            
            showNotification('success', 'Transferência realizada', `Transferência no valor de ${amount} realizada com sucesso`);
            hideModal('transferModal');
        }

        // Operações com Cartão
        function generateVirtualCard() {
            showNotification('success', 'Cartão Virtual', 'Cartão virtual gerado com sucesso! Número: 5432 1098 7654 3210 CVV: 789 Val: 12/25');
            hideModal('cardsModal');
        }

        function toggleCardBlock() {
            currentCard.blocked = !currentCard.blocked;
            const action = currentCard.blocked ? 'bloqueado' : 'desbloqueado';
            showNotification('success', 'Cartão ' + action, `Cartão final ${currentCard.lastDigits} foi ${action} com sucesso`);
            hideModal('cardsModal');
        }

        function showCardNumber() {
            cardNumberVisible = !cardNumberVisible;
            const cardNumberElement = document.querySelector('#cardDetailsModal .card-number-display');
            
            if (cardNumberVisible) {
                cardNumberElement.textContent = currentCard.number;
                event.target.textContent = 'Ocultar';
            } else {
                cardNumberElement.textContent = '•••• •••• •••• ' + currentCard.lastDigits;
                event.target.textContent = 'Mostrar';
            }
        }

        function showCVV() {
            cardCVVVisible = !cardCVVVisible;
            const cvvElement = document.querySelector('#cardDetailsModal .card-cvv-display');
            
            if (cardCVVVisible) {
                cvvElement.textContent = currentCard.cvv;
                event.target.textContent = 'Ocultar';
            } else {
                cvvElement.textContent = '•••';
                event.target.textContent = 'Mostrar';
            }
        }

        function changeCardLimit() {
            showModal('changeLimitModal');
        }

        function requestNewCard() {
            showNotification('info', '2ª Via de Cartão', 'Seu novo cartão será enviado para o endereço cadastrado em até 10 dias úteis');
            hideModal('cardDetailsModal');
        }

        // Operações de Recarga
        function rechargeMobile() {
            const operator = document.getElementById('mobileOperator').value;
            const number = document.getElementById('mobileNumber').value;
            let amount = document.getElementById('rechargeAmount').value;
            
            if (amount === 'other') {
                amount = document.getElementById('customAmount').value;
            } else {
                amount = `R$ ${amount},00`;
            }
            
            if (!number || number.length < 15) {
                showNotification('error', 'Erro na recarga', 'Informe um número de celular válido');
                return;
            }
            
            showNotification('success', 'Recarga realizada', `Recarga de ${amount} para ${number} (${operator}) realizada com sucesso!`);
            hideModal('mobileRechargeModal');
        }

        // Operações de Empréstimo
        function updateLoanValue(value) {
            document.getElementById('loanAmountValue').textContent = `R$ ${(value/1000).toFixed(3).replace('.', ',')}`;
            calculateLoan();
        }

        function calculateLoan() {
            const amount = parseInt(document.getElementById('loanAmount').value);
            const installments = parseInt(document.getElementById('loanInstallments').value);
            
            // Cálculo simplificado
            const rate = 1.39 / 100; // 1.39% ao mês
            const installment = (amount * rate * Math.pow(1 + rate, installments)) / (Math.pow(1 + rate, installments) - 1);
            const total = installment * installments;
            
            document.getElementById('installmentValue').textContent = `R$ ${installment.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
            document.getElementById('totalLoanValue').textContent = `R$ ${total.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
        }

        function requestLoan() {
            const amount = document.getElementById('loanAmountValue').textContent;
            const installments = document.getElementById('loanInstallments').value;
            
            showNotification('success', 'Empréstimo solicitado', `Empréstimo de ${amount} em ${installments}x foi solicitado com sucesso!`);
            hideModal('loanModal');
        }

        // Notificações
        function showNotification(type, title, message) {
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notificationTitle');
            const notificationMessage = document.getElementById('notificationMessage');
            const notificationIcon = notification.querySelector('.notification-icon i');
            
            // Hide all modals when showing notification
            document.querySelectorAll('.modal').forEach(modal => {
                modal.classList.remove('active');
            });
            
            // Set notification content
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            // Set notification type
            notification.className = 'notification';
            notification.classList.add('notification-' + type);
            
            // Set icon based on type
            if (type === 'success') {
                notificationIcon.className = 'fas fa-check-circle';
            } else if (type === 'error') {
                notificationIcon.className = 'fas fa-times-circle';
            } else if (type === 'warning') {
                notificationIcon.className = 'fas fa-exclamation-triangle';
            } else if (type === 'info') {
                notificationIcon.className = 'fas fa-info-circle';
            }
            
            // Show notification
            notification.classList.add('show');
            
            // Auto hide after 5 seconds
            setTimeout(hideNotification, 5000);
        }

        function hideNotification() {
            document.getElementById('notification').classList.remove('show');
        }

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Atualizar cálculo do empréstimo quando mudar parcelas
        document.getElementById('loanInstallments').addEventListener('change', calculateLoan);

        // Mostrar campo de valor personalizado para recarga
        document.getElementById('rechargeAmount').addEventListener('change', function() {
            const customAmountGroup = document.getElementById('customAmountGroup');
            if (this.value === 'other') {
                customAmountGroup.style.display = 'block';
            } else {
                customAmountGroup.style.display = 'none';
            }
        });

        // Mostrar/ocultar data de vencimento para boleto
        document.getElementById('depositType').addEventListener('change', function() {
            const dueDateGroup = document.getElementById('depositDueDateGroup');
            if (this.value === 'boleto') {
                dueDateGroup.style.display = 'block';
            } else {
                dueDateGroup.style.display = 'none';
            }
        });

        // Copiar link de indicação
        function copyReferralLink() {
            navigator.clipboard.writeText('https://quantumbank.com/indique?codigo=QUANTUM123')
                .then(() => {
                    showNotification('success', 'Link copiado', 'Link de indicação copiado para a área de transferência');
                })
                .catch(err => {
                    showNotification('error', 'Erro ao copiar', 'Não foi possível copiar o link de indicação');
                });
        }

        // Solicitar depósito
        function requestDeposit() {
            const amount = document.getElementById('depositAmount').value;
            const type = document.getElementById('depositType').value;
            
            let message = `Depósito no valor de ${amount} solicitado com sucesso!`;
            
            if (type === 'boleto') {
                const dueDate = document.getElementById('depositDueDate').value;
                message += ` Vencimento: ${formatDate(dueDate)}`;
            } else if (type === 'ted') {
                message += ` O valor estará disponível em até 1 dia útil.`;
            }
            
            showNotification('success', 'Depósito solicitado', message);
            hideModal('depositModal');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        // Adicionar nova conta para pagamento
        function addNewBill() {
            showModal('addBillModal');
        }
    </script>
</body>
</html>
